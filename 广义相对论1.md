# 1 黎曼几何

## 张量

### 坐标变换

设 $n $ 维流形上 $p $ 点有两套坐标 $x=x\left(x^1,x^2,\cdots,x^n \right) $ 与 $x'=x'\left(x'^1,x'^2,\cdots,x'^n \right) $，则这两套坐标之间的关系

$$
\begin{equation}
x'^\mu = x'^\mu\left(x^1,x^2,\cdots,x^n \right),\quad \mu=1,2,\cdots,n
\end{equation}
$$

称为坐标变换。

> 有时候为了方便，把 $x' $ 写作 $\bar{x} .$

### 坐标变换矩阵

设有坐标变换 $\bar{x}^\mu = \bar{x}^\mu\left(x^1,x^2,\cdots,x^n \right),\quad \mu=1,2,\cdots,n $，则相应坐标变换矩阵元 $A^\mu_\nu $ 定义为

$$
\begin{equation}
A^\mu_\nu
\equiv \frac{\partial \bar{x}^\mu }{\partial x^\nu } 
\end{equation}
$$

把 $A^\mu_\nu $ 看作矩阵 $A $ 的 $\mu $ 行 $\nu $ 列矩阵元，则矩阵 $A $ 称为坐标变换矩阵，即

$$
\begin{align}
A
\equiv \left[A^\mu_\nu \right]
\end{align}
$$

> 一般地，坐标变换矩阵元 $A^\mu_\nu $ 是坐标 $x $ 的函数。

若坐标变换的雅可比行列式 $\mathrm{det}(A) \ne 0 $，则存在逆坐标变换

$$
\begin{align}
x^\mu = x^\mu\left(\bar{x}^1,\bar{x}^2,\cdots,\bar{x}^n \right),\quad \mu=1,2,\cdots,n
\end{align}
$$

由定义，逆坐标变换的坐标变换矩阵元 $\bar{A}^\mu_\nu $ 以及坐标变换矩阵 $\bar{A} $ 为

$$
\begin{align}
\bar{A}^\mu_\nu
\equiv \frac{\partial x^\mu }{\partial \bar{x}^\nu } ,\quad
\bar{A}
\equiv \left[\bar{A}^\mu_\nu \right]
\end{align}
$$

可以证明，$\bar{A} $ 与 $A $ 互为逆矩阵，满足

$$
\begin{align}
\bar{A} = A^{-1},\quad \bar{A} A = A \bar{A} = I
\end{align}
$$

> **证明**：
> 
> $$
> \begin{equation}
> \begin{split}
> \left(\bar{A} A \right)^\mu_\nu
> &=\bar{A}^\mu_\lambda A^\lambda_\nu \\
> &=\frac{\partial x^\mu }{\partial \bar{x}^\lambda } \frac{\partial \bar{x}^\lambda }{\partial x^\nu } \\
> &=\frac{\partial x^\mu }{\partial x^\nu } \\
> &=\delta^\mu_\nu \\
> &=\left(I \right)^\mu_\nu
> \end{split}
> \end{equation}
> $$

> 常用恒等式 $\bar{A}^\mu_\lambda A^\lambda_\nu = \delta^\mu_\nu $

### 标量

$$
\begin{align}
\phi'(x') = \phi(x)
\end{align}
$$

### 逆变矢量

$$
\begin{align}
\phi'^\mu(x')
=A^\mu_\nu \phi^\nu(x)
\end{align}
$$

### 协变矢量

$$
\begin{align}
\phi'_\mu(x')
=\bar{A}_\mu^\nu \phi_\nu(x)
\end{align}
$$

### 张量

$$
\begin{align}
\phi'^{\mu_1\cdots \mu_n}_{\nu_1\cdots \nu_m}(x')
=A^{\mu_1}_{\alpha_1} \cdots A^{\mu_n}_{\alpha_n} \bar{A}_{\nu_1}^{\beta_1} \cdots \bar{A}_{\nu_m}^{\beta_m} \phi^{\alpha_1 \cdots \alpha_n}_{\beta_1\cdots \beta_m}(x)
\end{align}
$$

## 协变微商

### 逆变矢量的协变微商

$$
\begin{align}
\nabla_\mu \phi^\nu(x)
\equiv \partial_\mu \phi^\nu(x) + \Gamma^\nu_{\mu \lambda} \phi^\lambda(x)
\end{align}
$$

我们希望逆变矢量的协变微商是一个张量，其满足张量的变换规律

$$
\begin{align}
\nabla'_\mu \phi'^\nu(x')
=\bar{A}_\mu^{\alpha} A^\nu_{\beta} \nabla_\alpha \phi^\beta(x)
\end{align}
$$

由此可得联络的变换规律

$$
\begin{align}
\Gamma'^\mu_{\nu\lambda}
=A^\mu_{\alpha} \bar{A}_\nu^{\beta} \bar{A}_\lambda^\gamma \Gamma^\alpha_{\beta\gamma} + A^\mu_\alpha \bar{A}_\nu^\beta \partial_\beta \bar{A}^\alpha_\lambda
\end{align}
$$

> **证明**：
> 
> 由定义
> 
> $$
> \begin{align}
> \nabla_\mu \phi^\nu(x)
> \equiv \partial_\mu \phi^\nu(x) + \Gamma^\nu_{\mu \lambda} \phi^\lambda(x)
> \end{align}
> $$
> 
> $$
> \begin{align}
> \nabla'_\mu \phi'^\nu(x')
> \equiv \partial'_\mu \phi'^\nu(x) + \Gamma'^\nu_{\mu \lambda} \phi'^\lambda(x')
> \end{align}
> $$
> 
> 我们知道 $\partial_\mu $ 是协变矢量，$\phi^\nu(x) $ 是逆变矢量，利用它们的变换规律
> 
> $$
> \begin{align}
> \partial'_\mu
> =\bar{A}_\mu^\alpha \partial_\alpha,\quad
> \phi'^\nu(x')
> =A^\nu_\beta \phi^\beta(x)
> \end{align}
> $$
> 
> 有
> 
> $$
> \begin{equation}
> \begin{split}
> \nabla'_\mu \phi'^\nu(x')
> &\equiv \partial'_\mu \phi'^\nu(x) + \Gamma'^\nu_{\mu \lambda} \phi'^\lambda(x') \\
> &=\bar{A}_\mu^\alpha \partial_\alpha \left[A^\nu_\beta \phi^\beta(x) \right] + \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \phi^\gamma(x) \\
> &=\bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_\beta \right) \phi^\beta(x) + \bar{A}_\mu^\alpha A^\nu_\beta \partial_\alpha \phi^\beta(x) + \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \phi^\gamma(x) \\
> \end{split}
> \end{equation}
> $$
> 
> 而我们希望逆变矢量的协变微商是一个张量，其满足张量的变换规律
> 
> $$
> \begin{equation}
> \begin{split}
> \nabla'_\mu \phi'^\nu(x')
> &=\bar{A}_\mu^{\alpha} A^\nu_{\beta} \nabla_\alpha \phi^\beta(x) \\
> &=\bar{A}_\mu^{\alpha} A^\nu_{\beta} \left[\partial_\alpha \phi^\beta(x) + \Gamma^\beta_{\alpha \gamma} \phi^\gamma(x) \right] \\
> &=\bar{A}_\mu^{\alpha} A^\nu_{\beta} \partial_\alpha \phi^\beta(x) + \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} \phi^\gamma(x)
> \end{split}
> \end{equation}
> $$
> 
> 结合 $\left(18 \right)\left(19 \right) $ 有
> 
> $$
> \begin{align}
> \bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_\beta \right) \phi^\beta(x) + \red{\bar{A}_\mu^\alpha A^\nu_\beta \partial_\alpha \phi^\beta(x)} + \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \phi^\gamma(x)
> =\red{\bar{A}_\mu^{\alpha} A^\nu_{\beta} \partial_\alpha \phi^\beta(x)} + \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} \phi^\gamma(x)
> \end{align}
> $$
> 
> 化简为
> 
> $$
> \begin{align}
> \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \phi^\gamma(x)
> =\bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} \phi^\gamma(x) - \bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_{\red{\beta}} \right) \phi^{\red{\beta}}(x)
> \end{align}
> $$
> 
> 替换哑标得
> 
> $$
> \begin{align}
> \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \phi^\gamma(x)
> =\bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} \phi^\gamma(x) - \bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_{\red{\gamma}} \right) \phi^{\red{\gamma}}(x)
> \end{align}
> $$
> 
> 因此有
> 
> $$
> \begin{align}
> \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma
> =\bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} - \bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_{\gamma} \right) 
> \end{align}
> $$
> 
> 两边同乘 $\bar{A}^\gamma_\rho $，并对 $\gamma $ 求和，$\left(23 \right) $ 式左边
> 
> $$
> \begin{equation}
> \begin{split}
> \Gamma'^\nu_{\mu \lambda} A^\lambda_\gamma \bar{A}^\gamma_\rho
> &=\Gamma'^\nu_{\mu \lambda} \delta^\lambda_\rho \\
> &=\Gamma'^\nu_{\mu \rho}
> \end{split}
> \end{equation}
> $$
> 
> $\left(23 \right) $ 式右边
> 
> $$
> \begin{equation}
> \begin{split}
> \bar{A}^\gamma_\rho \left[\bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} - \bar{A}_\mu^\alpha \left(\partial_\alpha A^\nu_{\gamma} \right) \right]
> &=\bar{A}^\gamma_\rho \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} - \bar{A}_\mu^\alpha \red{\bar{A}^\gamma_\rho \partial_\alpha A^\nu_{\gamma}} \\
> &=\bar{A}^\gamma_\rho \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} - \bar{A}_\mu^\alpha \red{\left[\partial_\alpha\left(\bar{A}^\gamma_\rho A^\nu_\gamma \right) - A^\nu_\gamma \partial_\alpha \bar{A}^\gamma_\rho \right]} \\
> &=\bar{A}^\gamma_\rho \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} - \bar{A}_\mu^\alpha \red{\left[\partial_\alpha \delta^\nu_\rho - A^\nu_\gamma \partial_\alpha \bar{A}^\gamma_\rho \right]} \\
> &=\bar{A}^\gamma_\rho \bar{A}_\mu^{\alpha} A^\nu_{\beta} \Gamma^\beta_{\alpha \gamma} + \bar{A}_\mu^\alpha A^\nu_\gamma \partial_\alpha \bar{A}^\gamma_\rho \\
> &=A^\nu_{\beta} \bar{A}_\mu^{\alpha} \bar{A}^\gamma_\rho \Gamma^\beta_{\alpha \gamma} + A^\nu_\gamma \bar{A}_\mu^\alpha \partial_\alpha \bar{A}^\gamma_\rho \\
> \end{split}
> \end{equation}
> $$
> 
> 于是得到联络的变换规律
> 
> $$
> \begin{align}
> \Gamma'^\nu_{\mu \rho}
> =A^\nu_{\beta} \bar{A}_\mu^{\alpha} \bar{A}^\gamma_\rho \Gamma^\beta_{\alpha \gamma} + A^\nu_\gamma \bar{A}_\mu^\alpha \partial_\alpha \bar{A}^\gamma_\rho
> \end{align}
> $$
> 
> 替换指标就得到
> 
> $$
> \begin{align}
> \Gamma'^\mu_{\nu\lambda}
> =A^\mu_{\alpha} \bar{A}_\nu^{\beta} \bar{A}_\lambda^\gamma \Gamma^\alpha_{\beta\gamma} + A^\mu_\alpha \bar{A}_\nu^\beta \partial_\beta \bar{A}^\alpha_\lambda
> \end{align}
> $$

### 协变矢量的协变微商

同样我们希望协变矢量的协变微商也是个张量，其满足张量的变换规律

$$
\begin{align}
\nabla'_\mu \phi'_\nu(x')
=\bar{A}_\mu^\alpha \bar{A}_\nu^\beta \nabla_\alpha \phi_\beta(x)
\end{align}
$$

可证明协变矢量的协变微商 $\nabla_\mu \phi_\nu(x) $ 的具体形式为

$$
\begin{align}
\nabla_\mu \phi_\nu(x)
=\partial_\mu \phi_\nu(x) - \Gamma^\lambda_{\mu\nu} \phi_\lambda(x)
\end{align}
$$

**证明**：

### 二阶张量的协变微商


